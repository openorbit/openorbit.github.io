<div class="container">
  {%- assign default_paths = site.pages | map: "path" -%}
  {%- assign page_paths = site.header_pages | default: default_paths -%}

  <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
    <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
      <span class="fs-4">{{ site.title }}</span>
    </a>

    {%- if page_paths -%}

    <ul class="nav nav-pills">
      {%- for path in page_paths -%}
        {%- assign my_page = site.pages | where: "path", path | first -%}
        {% unless my_page.exclude or my_page.path contains "archive/" or my_page.path contains "research/" %}
        {%- if my_page.title -%}
          {% if my_page.path == page.path %}
            <li class="nav-item"><a href="{{ my_page.url | relative_url }}" class="nav-link active" aria-current="page">{{ my_page.title | escape }}</a></li>
          {% else %}
            <li class="nav-item"><a href="{{ my_page.url | relative_url }}" class="nav-link">{{ my_page.title | escape }}</a></li>
          {%- endif -%}
          {%- endif -%}
      {% endunless %}
      {%- endfor -%}
    </ul>
    {%- endif -%}
  </header>
</div>
